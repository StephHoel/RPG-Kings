(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33999,87836,4219,93258,40029,40385,79631,178,e=>{"use strict";var s=e.i(43476);function a({text:e="Carregando..."}){return(0,s.jsxs)("span",{className:"flex items-center gap-2 justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-violet-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("title",{children:"Carregando"}),(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}),e]})}function t({children:e,className:a}){return(0,s.jsx)("div",{className:`flex w-full flex-col gap-6 px-2 sm:px-4 ${a??""}`,children:e})}e.i(56971),e.i(22016),e.i(42917),e.i(53861),e.s(["Loader",()=>a],87836),e.i(40925),e.s(["Panel",()=>t],4219),e.i(63327),e.i(6985);var r=e.i(71645);function l({children:e,mode:a}){return(0,s.jsx)(r.Activity,{mode:a,children:(0,s.jsx)("p",{className:"text-sm text-danger",role:"alert",children:e})})}function i({children:e}){return(0,s.jsx)("h1",{className:"drop-shadow mb-2 font-extrabold text-accent text-4xl md:text-5xl text-center",children:e})}function n({className:e,children:a,...t}){return(0,s.jsx)("div",{className:`w-full ${e}`,children:(0,s.jsxs)("label",{className:"space-y-2",children:[(0,s.jsx)(r.Activity,{mode:void 0===a?"hidden":"visible",children:(0,s.jsx)("p",{children:a})}),(0,s.jsx)("input",{className:"w-full px-3 py-2 rounded border border-highlight focus:outline-2 focus:outline-primary",...t})]})})}function o(){return(0,s.jsxs)("div",{className:"sticky bottom-0 md:static mt-3 flex flex-col gap-2 p-2",children:[(0,s.jsx)("button",{className:"rounded-lg border p-3 text-left",children:"Ir para a aula"}),(0,s.jsx)("button",{className:"rounded-lg border p-3 text-left",children:"Treinar"})]})}function c({children:e}){return(0,s.jsx)("div",{className:"w-full rounded-xl border p-4 sm:p-6 prose max-w-none bg-surface",children:e})}e.s(["AlertError",()=>l],93258),e.i(4866),e.i(88173),e.s(["H1",()=>i],40029),e.s(["Input",()=>n],40385),e.s(["ChoiceList",()=>o],79631),e.s(["SceneCard",()=>c],178),e.s([],33999)},53340,e=>{"use strict";var s=e.i(43476);e.i(33999);var a=e.i(4866),t=e.i(88173),r=e.i(40029),l=e.i(40385),i=e.i(4219);e.i(94467);var n=e.i(23259),o=e.i(67279);e.i(6399);var c=e.i(54598),d=e.i(3726),x=e.i(22610),u=e.i(9911),m=e.i(71645),p=e.i(46696);function h(){let[e,h]=(0,m.useState)([]),[f,g]=(0,m.useState)("all"),[y,j]=(0,m.useState)(""),[v,N]=(0,m.useState)(!1),[w,b]=(0,m.useState)(!0);(0,m.useEffect)(()=>{n.db.logs.orderBy("createdAt").toArray().then(e=>{h(e)})},[]);let A=(0,m.useMemo)(()=>{let s=e.filter(e=>"all"===f||e.type===f).filter(e=>!y||`${e.type} ${e.message??""} ${JSON.stringify(e.payload??"")} ${JSON.stringify(e.createdAt??"")}`.toLowerCase().includes(y.toLowerCase()));return s.sort((e,s)=>{let a=new Date(e.createdAt).getTime(),t=new Date(s.createdAt).getTime();return v?a-t:t-a}),b(0===s.length),s},[e,f,y,v]);async function C(){let e=await (0,c.exportLogsNDJSON)();await navigator.clipboard.writeText(e),p.toast.success("Log copiado (NDJSON).")}async function L(){confirm("Apagar todos os logs locais?")&&(await (0,c.clearLogs)(),h(await n.db.logs.orderBy("createdAt").toArray()))}let T=["all",...o.LogTypeEnum.options.sort()],S=[{key:"createdAt",label:`CreatedAt ${v?"↑":"↓"}`,onHeaderClick:()=>N(e=>!e),render:e=>(0,d.formatDate)(e.createdAt)},{key:"type",label:"Type",render:e=>e.type},{key:"message",label:"Message",render:e=>e.message??"—"},{key:"payload",label:"Payload",render:e=>(0,s.jsx)("pre",{className:"whitespace-pre-wrap",children:(0,x.formatPayload)(e.payload)})}];return(0,s.jsxs)(i.Panel,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.H1,{children:"/debug – Logs locais"}),(0,s.jsx)("p",{className:"text-xs ",children:"Local-only (Dexie). Nenhum dado é enviado para servidor."})]}),(0,s.jsxs)("div",{className:`flex gap-2 flex-wrap  ${w?"hidden":"visible"}`,children:[(0,s.jsxs)("div",{className:"w-full flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 md:justify-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm min-w-fit",children:["Total: ",A.length]}),(0,s.jsx)("select",{"aria-label":"Filtrar por tipo de log",className:"border border-highlight px-3 py-2 rounded w-full",value:f,onChange:e=>g(e.target.value),children:T.map(e=>(0,s.jsx)("option",{value:e,className:"bg-primary hover:bg-secondary",children:u.LogTypeLabels[e]},e))})]}),(0,s.jsx)("div",{className:"md:w-full sm:w-auto",children:(0,s.jsx)(l.Input,{placeholder:"Filtrar texto...",value:y,onChange:e=>j(e.target.value),className:"w-full"})})]}),(0,s.jsxs)("div",{className:"flex space-x-2 w-full",children:[(0,s.jsx)(a.Button,{onClick:C,className:" min-w-fit",children:"Copiar (NDJSON)"}),(0,s.jsx)(a.Button,{onClick:L,children:"Apagar Logs"})]})]}),(0,s.jsxs)("div",{className:" ",children:[(0,s.jsx)(m.Activity,{mode:w?"hidden":"visible",children:(0,s.jsx)(t.GenericTable,{header:S,rows:A,rowKey:e=>e.id??Math.random()})}),(0,s.jsx)("p",{className:w?"visible":"hidden",children:"Não há logs disponíveis."})]})]})}e.s(["default",()=>h])}]);