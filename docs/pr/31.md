# Padronização do logger e refatoração de serviços

Link da issue relacionada: #16

## Versão

- Versão (SemVer): 0.1.11
- Data: 2025-12-01

---

## Descrição (resumo)

- O que foi feito: Consolidamos e padronizamos o sistema de logging do projeto: refatoramos o `logger.service` para delegar responsabilidades ao repositório apropriado, padronizamos nomes e locais de logs, e atualizamos chamadas em services e hooks para utilizar a nova API de logging. Também aproveitamos para reforçar o fluxo arquitetural `ui > hook > service > repo > db` em pontos identificados, ajustar imports e alinhar funções auxiliares relacionadas a logs e testes.
- Por que: melhorar a consistência, facilitar a instrumentação de runtime e centralizar a persistência de logs no nível de repositório, reduzindo duplicações e riscos de inconsistência.

---

## Destaques

- Padronização do `logger.service` em `src/services/log/logger.service.ts` e delegação de `clearLogs` para `src/infra/repositories/logs.repo.ts`.
- Renomeações e realocações de imports para seguir a convenção `ui > hook > service > repo > db` (ex.: `@/ui/*`, `@/services/*`, `@/infra/repositories/*`).
- Ajustes em testes unitários para usar as novas funções do logger e garantir compatibilidade com `fake-indexeddb` no ambiente de testes.
- Atualização de migrations e schemas relacionados quando necessário para suportar novos campos/formatos de logs (vínculo com Dexie migrations).
- Pequenas melhorias em workflows e scripts de CI relacionados à geração/limpeza de logs para debugs em CI.

---

## Breaking Changes

- O `logger.service` mudou sua API pública em pequenos pontos (ex.: assinatura de `createLog`/`clearLogs` delegada ao repo). Consumidores que chamam diretamente métodos antigos devem atualizar as importações e chamadas para a nova API.
- Imports refatorados (paths) podem exigir atualização em branches dependentes ou scripts externos.

---

## Checklist

- [x] Atualizar `docs/CHANGELOG.md` com a seção desta versão.
- [x] Verificar `package.json` se há necessidade de bump (se aplicável).
- [x] Garantir que os testes unitários passem localmente (`npm run test:unit`).

---

**Resumo (1-2 linhas):** Padronização do sistema de logging, delegação de responsabilidades do `logger.service` para o repositório, e correções de imports/ajustes em testes para manter o fluxo arquitetural `ui>hook>service>repo>db`.

Assinatura: @StephHoel

Branch: `feat/16-padronizacao-logger`
